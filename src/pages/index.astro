---
import Layout from "../layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import { PiMoonFill } from "react-icons/pi";
---

<Layout title="Raghav Ruia">
	<!-- Name & Social Icons Section -->
	<div class="flex flex-col gap-1 sm:gap-2 sm:flex-row sm:items-center sm:justify-between mt-1 sm:mt-0 mb-3 sm:mb-0">
		<!-- Name Section -->
		<h1 class="text-primary font-serif text-[2.5rem] tracking-tight">Raghav Ruia</h1>

		<!-- Social icons section -->
		<div class="flex items-center gap-4 text-body mt-1 sm:mt-0">
			<!-- Resume -->
			<a
				href="/docs/Raghav_Ruia_Resume.pdf"
				target="_blank"
				rel="noopener noreferrer"
				class="flex items-center text-sm font-medium md:hover:text-primary transition-colors duration-200">
				<Icon name="tabler:file-text" size={16} class="mr-1" />
				<span>Resume</span>
			</a>

			<!-- LinkedIn -->
			<a
				href="https://linkedin.com/in/raghav-ruia"
				target="_blank"
				rel="noopener noreferrer"
				class="md:hover:text-primary transition-colors duration-200">
				<Icon name="tabler:brand-linkedin" size={18} />
			</a>

			<!-- Mail -->
			<a
				href="mailto:raghavruia.work@gmail.com"
				class="md:hover:text-primary transition-colors duration-200">
				<Icon name="tabler:mail" size={18} />
			</a>
		</div>
	</div>

	<!-- Bio Section -->
	<div class="flex items-center gap-1.5 font-medium tracking-tight">
		<h2 class="text-title text-base">advocate for systems, processes & tech </h2>
	</div>

	<!-- Backdrop Overlay (appears on hover/focus) -->
	<div 
		id="tooltip-backdrop" 
		class="fixed inset-0 bg-black/0 opacity-0 pointer-events-none transition-all duration-300 ease-in-out z-10"
		style="transition-property: opacity, background-color;">
	</div>

	<!-- Backstory Section -->
    <section class="pt-6 max-w-prose sm:max-w-[70ch] md:max-w-[80ch] lg:max-w-[90ch]">
        <div class="text-body text-[0.95rem] sm:text-base md:text-[1.05rem] lg:text-[1.125rem] leading-relaxed md:leading-[1.75rem] font-[450]">
            <!-- First Paragraph -->
            <div>
                <span class="block mb-2.5 font-semibold text-primary uppercase tracking-wide">backstory</span>
                <span class="block">loved tech since my childhood,</span>
                <span class="block">did computer science + managed family biz,</span>
                <span class="block">got interested in building systems & processes,</span>
            </div>

            <!-- Second Paragraph with Tooltip -->
            <div class="mt-4">
                <span class="block">
                    stumbled upon <span class="text-black font-medium">ERPNext</span> â€”
                </span>
                <span class="block">
                    does everything a company <span class="inline-block relative group cursor-pointer align-baseline select-none" tabindex="0">
                        <button
                            class="text-primary md:hover:text-black font-medium underline decoration-dotted underline-offset-2 decoration-1 transition-all duration-150 ease-in-out cursor-pointer focus:outline-none select-none"
                        >
                            does
                        </button>
                        <span
                            class="absolute left-1/2 top-full mt-4 w-[min(80vw,22rem)] -translate-x-1/2 rounded-xl bg-white/95 border border-body/20 shadow-xl p-4 opacity-0 scale-95 group-hover:opacity-100 group-hover:scale-100 group-focus:opacity-100 group-focus:scale-100 transition-all duration-300 ease-in-out z-20 invisible group-hover:visible group-focus:visible pointer-events-none group-hover:pointer-events-auto group-focus:pointer-events-auto select-text"
                            style="transform-origin: 50% -10px;"
                        >
                            <span class="absolute bottom-full left-1/2 -translate-x-1/2 w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-b-[10px] border-b-white/95" style="filter: drop-shadow(0 -1px 1px rgba(0,0,0,0.05));"></span>
                            
                            <h3 class="text-primary font-semibold mb-1 text-[0.95rem] sm:text-base">
                                What ERPNext does
                            </h3>
                            <p class="text-sm sm:text-[0.95rem] text-body leading-relaxed">
                                Automate workflows for manufacturing, inventory, projects, CRM, HR, accounting and compliance  â€” <span class="font-medium text-primary"> everything you need</span>.
                            </p>
                        </span>
                    </span>,
                </span>
                <span class="block">while being <span class="bg-gradient-to-r from-emerald-800 via-green-700 to-gray-700 bg-clip-text text-transparent font-semibold">100% free</span> & open source! ðŸŒ±</span>
            </div>

            <!-- Third Paragraph -->
            <div class="mt-8">
                <span class="block">find me tinkering with 
                    <a href="https://frappe.io/framework/doctype" target="_blank" rel="noopener noreferrer" class="text-black md:hover:text-green-800 transition-all duration-150 ease-in-out">
                        DocTypes.
                    </a>
                </span>
            </div>
        </div>
    </section>

	<!-- CTA Section -->
	<section>
		<div class="group">
			<p
				class="border-body/20 bg-hoverColor/60 text-body mt-8 mb-8 w-fit rounded-md border px-2 py-1 text-s transition-all duration-300 ease-in-out">
				<PiMoonFill
					className="md:group-hover:text-primary -mt-0.5 inline-block transition-all duration-300 ease-in-out"
				/>
				Want to run your business while sleeping?
				<a
					href="https://frappe.io/erpnext?utm_source=raghavruia.com"
					rel="noopenner noreferrer"
					target="_blank"
					class="text-body md:hover:text-primary md:group-hover:text-primary font-medium underline underline-offset-2 transition-all duration-150 ease-in-out"
					>try ERPNext</a
				>
			</p>
		</div>
	</section>

	<script>
		// Handle tooltip backdrop dimming effect
		const tooltipTrigger = document.querySelector('.group.cursor-pointer');
		const backdrop = document.getElementById('tooltip-backdrop');

		if (tooltipTrigger && backdrop) {
			const showBackdrop = () => {
				backdrop.style.backgroundColor = 'rgba(0, 0, 0, 0.15)';
				backdrop.style.opacity = '1';
			};

			const hideBackdrop = () => {
				backdrop.style.backgroundColor = 'rgba(0, 0, 0, 0)';
				backdrop.style.opacity = '0';
			};

			// Mouse events
			tooltipTrigger.addEventListener('mouseenter', showBackdrop);
			tooltipTrigger.addEventListener('mouseleave', hideBackdrop);

			// Focus events (for keyboard navigation)
			tooltipTrigger.addEventListener('focusin', showBackdrop);
			tooltipTrigger.addEventListener('focusout', hideBackdrop);
		}
	</script>

</Layout>